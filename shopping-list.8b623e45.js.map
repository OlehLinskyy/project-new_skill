{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-c2c577a33951b2e5.js","src/shoping-list.js","node_modules/@parcel/runtime-js/lib/runtime-6d5500c2a9170018.js","node_modules/@parcel/runtime-js/lib/runtime-4a5577f99b3a860d.js","node_modules/@parcel/runtime-js/lib/runtime-4d99680cdd59f202.js","node_modules/@parcel/runtime-js/lib/runtime-4a52d1270c899c3c.js","node_modules/@parcel/runtime-js/lib/runtime-ec2290c468cce5a7.js","node_modules/@parcel/runtime-js/lib/runtime-ce1adb36ed881397.js","node_modules/@parcel/runtime-js/lib/runtime-4c9e5c6dc03705ae.js","node_modules/@parcel/runtime-js/lib/runtime-09d02d8eca9d45df.js","node_modules/@parcel/runtime-js/lib/runtime-6b507a4cc7f92dba.js","node_modules/@parcel/runtime-js/lib/runtime-a0307e8533095976.js","node_modules/@parcel/runtime-js/lib/runtime-dcb7093770295887.js","node_modules/@parcel/runtime-js/lib/runtime-cc39d776eaba6204.js","src/js/shopping-list/shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"hdJAh\\\":\\\"shopping-list.8b623e45.js\\\",\\\"8Hiik\\\":\\\"amazon.b8fa90cb.png\\\",\\\"cxZE2\\\":\\\"amazon@2x.edefe29e.png\\\",\\\"2rnXQ\\\":\\\"book.5a9f17e3.png\\\",\\\"7Omd8\\\":\\\"book@2x.54474d7d.png\\\",\\\"jjmXE\\\":\\\"book-shop.91914384.png\\\",\\\"amSWg\\\":\\\"book-shop@2x.fbbde057.png\\\",\\\"1o9D1\\\":\\\"books.4abada78.png\\\",\\\"j1gun\\\":\\\"books@2x.434ca15d.png\\\",\\\"cWLtC\\\":\\\"books.15c3c113.png\\\",\\\"etFxX\\\":\\\"books@2x.6292faab.png\\\",\\\"i9zAK\\\":\\\"basket.d8f64c6c.png\\\",\\\"a7BTK\\\":\\\"basket@2x.ee4d598c.png\\\",\\\"5UbS1\\\":\\\"index.39a8551e.css\\\",\\\"gtQ5X\\\":\\\"index.2d78dcd3.js\\\"}\"));","import './js/header/header';\nimport './js/loader/loader';\nimport './js/shopping-list/shopping-list';\nimport './js/support-ukraine/support-ukraine';\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8Hiik\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cxZE2\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2rnXQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7Omd8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jjmXE\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"amSWg\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1o9D1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"j1gun\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cWLtC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"etFxX\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"i9zAK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"a7BTK\")).toString();","\nimport amazonImage1 from '../../images/png/modal-book/amazon.png';\nimport amazonImage2 from '../../images/png/modal-book/amazon@2x.png';\nimport appleImage1 from '../../images/png/modal-book/book.png'\nimport appleImage2 from '../../images/png/modal-book/book@2x.png'\nimport bookshopImage1 from '../../images/png/modal-book/book-shop.png'\nimport bookshopImage2 from '../../images/png/modal-book/book-shop@2x.png'\nimport booksImageMob1 from '../../images/png/shopping-list/mob/books.png';\nimport booksImageMob2 from '../../images/png/shopping-list/mob/books@2x.png';\nimport booksImageTabDes1 from '../../images/png/shopping-list/tab-vs-desk/books.png';\nimport booksImageTabDes2 from '../../images/png/shopping-list/tab-vs-desk/books@2x.png';\nimport bookBasket1 from '../../images/png/shopping-list/basket/basket.png'\nimport bookBasket2 from '../../images/png/shopping-list/basket/basket@2x.png'\n\nconst galleryEl = document.querySelector('.gallery');\nconst emptyListEl = document.querySelector('.shopping-list-empty');\nconst savedSettings = localStorage.getItem('shopping_list');\nlet parsedSettings = []\nif(savedSettings) { \n  parsedSettings = JSON.parse(savedSettings);\n}\ninnerMarkup()\n\nfunction onClick(event) {\n  const target = event.target.closest('.button');\n  const index = parsedSettings.map(element => element._id).indexOf(target.id)\n  parsedSettings.splice(index,1)\n  // localStorage.setItem('shopping_list', JSON.stringify(parsedSettings))\n  innerMarkup()\n}\n\nfunction innerMarkup(){\n  removeEventListener('click', onClick)\n  if (parsedSettings.length) {\n    const markup = parsedSettings.map(dataItem => buildBooks(dataItem)).join('');\n    galleryEl.innerHTML = markup\n    onListener()\n  }\n  else {\n    emptyListEl.innerHTML = buildEmptyList()\n    galleryEl.innerHTML = ``\n  }\n};\n\nfunction onListener() {\n  const buttonEl = document.querySelectorAll('.button');\n  buttonEl.forEach(element => {\n    element.addEventListener('click', onClick)\n  })\n};\n\nfunction buildEmptyList(){\n  return `\n    <p>This page is empty, add some books and proceed to order.</p>\n    <img srcset=\" ${booksImageMob1} 1x, ${booksImageMob2} 2x\" src=\"${booksImageMob1}\" alt=\"books\">\n  `\n}\nbuildBooks(parsedSettings);\nfunction buildBooks({book_image,title,list_name,description,author,_id,buy_links}) {\n  let urlAmazon = ''\n  let urlApplebooks = ''\n  let urlBookshop = ''\n  if(buy_links) {\n    const names = buy_links.map(item => item.name)\n    const indexAmazon = names.indexOf('Amazon')\n    urlAmazon = buy_links[indexAmazon].url;\n\n    const indexApplebooks = names.indexOf('Apple Books')\n    urlApplebooks = buy_links[indexApplebooks].url;\n\n    const indexBookshop = names.indexOf('Bookshop')\n    urlBookshop = buy_links[indexBookshop].url;\n  }\n  return `\n  <li class=\"border shopping-list-item\">\n    <img src=\"${book_image}\" alt=\"${title}\" class=\"book_image\">\n    <div class = \"book-info\">\n        <div>\n            <div class=\"shopping-list-item-action\">\n                <div>\n                    <h3 class = \"book-tittle\">${title}</h3>\n                    <p class = \"list-name\">${list_name}</p>\n                </div>\n                <button id=\"${_id}\" class=\"button\">\n                    <img srcset=\" ${bookBasket1} 1x, ${bookBasket2} 2x\"   src=\"${bookBasket1}\" alt=\"basket\" class = \"basket\">\n                </button>\n            </div>\n        <div  class=\"description-info\">\n            <p class = \"description\">${description}</p>\n        </div>\n    </div>\n    <div class=\"shopping-list-item-buy\">\n        <p class = \"author\">${author}</p>\n        <ul class=\"list-buy\">\n          <li>\n            <a target=\"_blank\" href=\"${urlAmazon}\">\n              <img srcset=\"${amazonImage1} 1x, ${amazonImage2} 2x\" src=\"${amazonImage1}\" alt=\"amazon\" class=\"link-amazon\">\n            </a>\n          </li>\n          <li>\n            <a target=\"_blank\" href=\"${urlApplebooks}\">\n              <img srcset=\"${appleImage1} 1x, ${appleImage2} 2x\" src=\"${appleImage1}\" alt=\"applebooks\" class=\"link-applebooks\">\n            </a>\n          </li>\n          <li>\n            <a target=\"_blank\" href=\"${urlBookshop}\">\n              <img srcset=\"${bookshopImage1} 1x, ${bookshopImage2} 2x\" src=\"${bookshopImage1}\" alt=\"bookshop\" class=\"link-bookshop\">\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </li>\n  `;\n}"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$29c67911a7d1bec4$exports","URL","resolve","import","meta","url","toString","$e0258d7978b304df$exports","$c849cb71bc573acf$exports","$41a21e31b9b75415$exports","$cb390bff07e6ed5b$exports","$d5fc6d43f28726be$exports","$d75f6b85354fc1d1$exports","$0d49212911d515af$exports","$4d0f59ea846b22c1$exports","$2560f3f91b90d84b$exports","$b2fc75cdc2919ed2$var$galleryEl","document","querySelector","$b2fc75cdc2919ed2$var$emptyListEl","$b2fc75cdc2919ed2$var$savedSettings","localStorage","getItem","$b2fc75cdc2919ed2$var$parsedSettings","$b2fc75cdc2919ed2$var$onClick","event","target","closest","index","map","element","_id","indexOf","splice","$b2fc75cdc2919ed2$var$innerMarkup","removeEventListener","markup","dataItem","$b2fc75cdc2919ed2$var$buildBooks","join","innerHTML","querySelectorAll","forEach","addEventListener","$parcel$interopDefault","book_image","title","list_name","description","author","buy_links","urlAmazon","urlApplebooks","urlBookshop","names","item","name"],"version":3,"file":"shopping-list.8b623e45.js.map"}