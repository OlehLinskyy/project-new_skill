{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-39c45441d6d5b16f.js","src/shoping-list.js","node_modules/@parcel/runtime-js/lib/runtime-bf7db8c4163882f9.js","node_modules/@parcel/runtime-js/lib/runtime-ae15f20990520767.js","node_modules/@parcel/runtime-js/lib/runtime-0653e0da71817df4.js","node_modules/@parcel/runtime-js/lib/runtime-dd7021bc3d337863.js","node_modules/@parcel/runtime-js/lib/runtime-c566abfc9bc28363.js","node_modules/@parcel/runtime-js/lib/runtime-f30dcf4b4d9a697f.js","node_modules/@parcel/runtime-js/lib/runtime-d2d56606fe220c11.js","node_modules/@parcel/runtime-js/lib/runtime-de9464afb54259bf.js","node_modules/@parcel/runtime-js/lib/runtime-9f745a81c6cc3429.js","node_modules/@parcel/runtime-js/lib/runtime-1fdf2f44ca819abf.js","node_modules/@parcel/runtime-js/lib/runtime-679eeab30e992493.js","node_modules/@parcel/runtime-js/lib/runtime-f4c9760fa5c71ada.js","src/js/shopping-list/shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"eMUNn\\\":\\\"shopping-list.73e96bdf.js\\\",\\\"eI5Nn\\\":\\\"amazon.b8fa90cb.png\\\",\\\"cM0OA\\\":\\\"amazon@2x.edefe29e.png\\\",\\\"d752U\\\":\\\"book.5a9f17e3.png\\\",\\\"lubPl\\\":\\\"book@2x.54474d7d.png\\\",\\\"lEgPn\\\":\\\"book-shop.91914384.png\\\",\\\"lS2x3\\\":\\\"book-shop@2x.fbbde057.png\\\",\\\"f2fBm\\\":\\\"books.4abada78.png\\\",\\\"6n4rs\\\":\\\"books@2x.434ca15d.png\\\",\\\"lh2Ji\\\":\\\"books.15c3c113.png\\\",\\\"knaUF\\\":\\\"books@2x.6292faab.png\\\",\\\"jJagq\\\":\\\"basket.d8f64c6c.png\\\",\\\"gwSB5\\\":\\\"basket@2x.ee4d598c.png\\\",\\\"5UbS1\\\":\\\"index.9848610a.css\\\",\\\"kJAFa\\\":\\\"index.04878cd8.js\\\"}\"));","import './js/header/header';\nimport './js/loader/loader';\nimport './js/shopping-list/shopping-list';\nimport './js/support-ukraine/support-ukraine';\n","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"eI5Nn\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"cM0OA\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"d752U\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"lubPl\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"lEgPn\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"lS2x3\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"f2fBm\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"6n4rs\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"lh2Ji\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"knaUF\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"jJagq\");","module.exports = require('./helpers/bundle-url').getBundleURL('eMUNn') + require('./helpers/bundle-manifest').resolve(\"gwSB5\");","import amazonImage1 from '../../images/png/modal-book/amazon.png';\nimport amazonImage2 from '../../images/png/modal-book/amazon@2x.png';\nimport appleImage1 from '../../images/png/modal-book/book.png';\nimport appleImage2 from '../../images/png/modal-book/book@2x.png';\nimport bookshopImage1 from '../../images/png/modal-book/book-shop.png';\nimport bookshopImage2 from '../../images/png/modal-book/book-shop@2x.png';\nimport booksImageMob1 from '../../images/png/shopping-list/mob/books.png';\nimport booksImageMob2 from '../../images/png/shopping-list/mob/books@2x.png';\nimport booksImageTabDes1 from '../../images/png/shopping-list/tab-vs-desk/books.png';\nimport booksImageTabDes2 from '../../images/png/shopping-list/tab-vs-desk/books@2x.png';\nimport bookBasket1 from '../../images/png/shopping-list/basket/basket.png';\nimport bookBasket2 from '../../images/png/shopping-list/basket/basket@2x.png';\n\nconst galleryEl = document.querySelector('.gallery');\nconst emptyListEl = document.querySelector('.shopping-list-empty');\nconst savedSettings = localStorage.getItem('shopping_list');\nlet parsedSettings = [];\nif (savedSettings) {\n  parsedSettings = JSON.parse(savedSettings);\n}\ninnerMarkup();\n\nfunction onClick(event) {\n  const target = event.target.closest('.button');\n  const index = parsedSettings.map(element => element._id).indexOf(target.id);\n  parsedSettings.splice(index, 1);\n  // localStorage.setItem('shopping_list', JSON.stringify(parsedSettings))\n  innerMarkup();\n}\n\nfunction innerMarkup() {\n  removeEventListener('click', onClick);\n  if (parsedSettings.length) {\n    const markup = parsedSettings\n      .map(dataItem => buildBooks(dataItem))\n      .join('');\n    galleryEl.innerHTML = markup;\n    onListener();\n  } else {\n    emptyListEl.innerHTML = buildEmptyList();\n    galleryEl.innerHTML = ``;\n  }\n}\n\nfunction onListener() {\n  const buttonEl = document.querySelectorAll('.button');\n  buttonEl.forEach(element => {\n    element.addEventListener('click', onClick);\n  });\n}\n\nfunction buildEmptyList() {\n  return `\n    <p>This page is empty, add some books and proceed to order.</p>\n    <img srcset=\" ${booksImageMob1} 1x, ${booksImageMob2} 2x\" src=\"${booksImageMob1}\" alt=\"books\">\n  `;\n}\nbuildBooks(parsedSettings);\nfunction buildBooks({\n  book_image,\n  title,\n  list_name,\n  description,\n  author,\n  _id,\n  buy_links,\n}) {\n  let urlAmazon = '';\n  let urlApplebooks = '';\n  let urlBookshop = '';\n  if (buy_links) {\n    const names = buy_links.map(item => item.name);\n    const indexAmazon = names.indexOf('Amazon');\n    urlAmazon = buy_links[indexAmazon].url;\n\n    const indexApplebooks = names.indexOf('Apple Books');\n    urlApplebooks = buy_links[indexApplebooks].url;\n\n    const indexBookshop = names.indexOf('Bookshop');\n    urlBookshop = buy_links[indexBookshop].url;\n  }\n  return `\n  <li class=\"border shopping-list-item\">\n    <img src=\"${book_image}\" alt=\"${title}\" class=\"book_image\">\n    <div class = \"book-info\">\n        <div>\n            <div class=\"shopping-list-item-action\">\n                <div>\n                    <h3 class = \"book-tittle\">${title}</h3>\n                    <p class = \"list-name\">${list_name}</p>\n                </div>\n                <button id=\"${_id}\" class=\"button\">\n                    <img srcset=\" ${bookBasket1} 1x, ${bookBasket2} 2x\"   src=\"${bookBasket1}\" alt=\"basket\" class = \"basket\">\n                </button>\n            </div>\n        <div  class=\"description-info\">\n            <p class = \"description\">${description}</p>\n        </div>\n    </div>\n    <div class=\"shopping-list-item-buy\">\n        <p class = \"author\">${author}</p>\n        <ul class=\"list-buy\">\n          <li>\n            <a target=\"_blank\" href=\"${urlAmazon}\">\n              <img srcset=\"${amazonImage1} 1x, ${amazonImage2} 2x\" src=\"${amazonImage1}\" alt=\"amazon\" class=\"link-amazon\">\n            </a>\n          </li>\n          <li>\n            <a target=\"_blank\" href=\"${urlApplebooks}\">\n              <img srcset=\"${appleImage1} 1x, ${appleImage2} 2x\" src=\"${appleImage1}\" alt=\"applebooks\" class=\"link-applebooks\">\n            </a>\n          </li>\n          <li>\n            <a target=\"_blank\" href=\"${urlBookshop}\">\n              <img srcset=\"${bookshopImage1} 1x, ${bookshopImage2} 2x\" src=\"${bookshopImage1}\" alt=\"bookshop\" class=\"link-bookshop\">\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </li>\n  `;\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$776a32d9774ce142$exports","getBundleURL","resolve","$f70a5702f0b883b5$exports","$7ee8b665b7fcac3c$exports","$06c3162aa322a2c1$exports","$b8bd4a38fda20f53$exports","$e15ef01d1c8f3eeb$exports","$039ba07d88ec0afa$exports","$54774fa9719842c3$exports","$6b19ae12b745d655$exports","$0f598a856e117d03$exports","$aadbd4e67b1c22d6$var$galleryEl","document","querySelector","$aadbd4e67b1c22d6$var$emptyListEl","$aadbd4e67b1c22d6$var$savedSettings","localStorage","getItem","$aadbd4e67b1c22d6$var$parsedSettings","$aadbd4e67b1c22d6$var$onClick","event","target","closest","index","map","element","_id","indexOf","splice","$aadbd4e67b1c22d6$var$innerMarkup","removeEventListener","markup","dataItem","$aadbd4e67b1c22d6$var$buildBooks","join","innerHTML","querySelectorAll","forEach","addEventListener","concat","$parcel$interopDefault","param","book_image","title","list_name","description","author","buy_links","urlAmazon","urlApplebooks","urlBookshop","names","item","name"],"version":3,"file":"shopping-list.73e96bdf.js.map"}